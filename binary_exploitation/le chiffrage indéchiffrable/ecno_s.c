
#include <stdio.h>
#include <string.h>
#include <ctype.h>

void encrypt(char *str, char *key) {
    int len1 = strlen(str);
    int len2 = strlen(key);
    int i;

    for (i = 0; i < len1; i++) {
        if (isalpha(str[i])) {
            int j = i % len2;
            int shift = tolower(key[j]) - 'a';
            if (isupper(key[j])) {
                shift = toupper(key[j]) - 'A';
            }
            if (isupper(str[i])) {
                str[i] = (str[i] - 'A' + shift) % 26 + 'A';
            } else {
                str[i] = (str[i] - 'a' + shift) % 26 + 'a';
            }
        }
    }
}

int main() {
    FILE *fp;
    char message[1001];
    char key[] = "hrcybersecctf";

    fp = fopen("Flag.txt", "r");
    if (fp == NULL) {
        printf("Could not open file %s\n", "Flag.txt");
        return 1;
    }

    fgets(message, 1000, fp);
    fclose(fp);

    encrypt(message, key);
    printf("Encrypted message: %s\n", message);

    return 0;
}